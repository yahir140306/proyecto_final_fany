---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import ScrollAnimations from "../components/ScrollAnimations.astro";
---

<Layout title="Análisis de Datos - Proyecto Final">
  <Navbar />

  <div class="pt-10 sm:pt-16 pb-8 sm:pb-16 z-10">
    <div class="max-w-4xl mx-auto px-4 sm:px-6">
      <div
        class="card-animate bg-white rounded-2xl p-6 sm:p-8 shadow-xl border border-white/20"
      >
        <h1
          class="title-animate text-3xl sm:text-4xl font-bold mb-6 bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent"
        >
          Análisis de Datos
        </h1>

        <p class="fade-animate text-gray-700 mb-6">
          Esta sección presenta los resultados obtenidos en la investigación y
          la interpretación de los mismos. Es una de las partes más importantes
          del informe, ya que aquí se demuestra si se cumplieron o no los
          objetivos planteados.
        </p>

        <h2
          class="scroll-animate text-xl sm:text-2xl font-semibold text-teal-700 mb-4"
        >
          Incluye:
        </h2>

        <ul class="space-y-3 ml-5 mb-6">
          <li class="scroll-stagger flex items-start">
            <span
              class="inline-flex items-center justify-center rounded-md bg-teal-100 p-1 text-teal-700 mr-3"
            >
              <svg
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
            </span>
            Presentación de los datos mediante gráficos, tablas o diagramas
          </li>
          <li class="scroll-stagger flex items-start">
            <span
              class="inline-flex items-center justify-center rounded-md bg-teal-100 p-1 text-teal-700 mr-3"
            >
              <svg
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
            </span>
            Descripción e interpretación de los resultados
          </li>
          <li class="scroll-stagger flex items-start">
            <span
              class="inline-flex items-center justify-center rounded-md bg-teal-100 p-1 text-teal-700 mr-3"
            >
              <svg
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
            </span>
            Comparación con teorías, antecedentes o estudios previos
          </li>
          <li class="scroll-stagger flex items-start">
            <span
              class="inline-flex items-center justify-center rounded-md bg-teal-100 p-1 text-teal-700 mr-3"
            >
              <svg
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
            </span>
            Relación directa con los objetivos y/o hipótesis del estudio
          </li>
        </ul>

        <div
          class="scroll-animate-scale p-4 bg-teal-50 rounded-xl border border-teal-100 mt-8"
        >
          <p class="text-gray-700">
            El análisis debe ser <span class="font-semibold text-teal-700"
              >objetivo y estar respaldado por evidencia clara y confiable</span
            >. Se deben evitar opiniones personales sin sustento.
          </p>
        </div>

        <!-- Gráfico de ejemplo - Animado y responsivo -->
        <div
          class="scroll-animate-right mt-10 p-4 bg-white rounded-xl shadow-md"
        >
          <h3 class="text-lg font-semibold text-gray-800 mb-4">
            Ejemplo de Análisis Visual
          </h3>
          <div class="h-64 sm:h-80 flex items-center justify-center">
            <div class="w-full max-w-md space-y-4">
              <div class="flex items-center justify-between text-sm">
                <span>Satisfacción del cliente</span>
                <span class="font-semibold text-teal-600">85%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div
                  class="bg-gradient-to-r from-teal-500 to-green-500 h-3 rounded-full animate-grow"
                  style="width: 85%"
                >
                </div>
              </div>

              <div class="flex items-center justify-between text-sm">
                <span>Calidad del servicio</span>
                <span class="font-semibold text-blue-600">92%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div
                  class="bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full animate-grow"
                  style="width: 92%"
                >
                </div>
              </div>

              <div class="flex items-center justify-between text-sm">
                <span>Tiempo de respuesta</span>
                <span class="font-semibold text-purple-600">78%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div
                  class="bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full animate-grow"
                  style="width: 78%"
                >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  @keyframes grow {
    from {
      height: 0;
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-grow {
    animation: grow 1s ease-out forwards;
  }
</style>

<script>
  import ScrollReveal from "scrollreveal";

  function initializeAnimations() {
    // Limpiar animaciones anteriores
    ScrollReveal().clean(
      ".card-animate, .title-animate, .fade-animate, .scroll-animate, .scroll-stagger"
    );

    const sr = ScrollReveal({
      distance: "50px",
      duration: 800,
      easing: "ease-in-out",
      reset: true,
      mobile: true,
      viewFactor: 0.2,
    });

    // Contenedor principal
    sr.reveal(".card-animate", {
      origin: "bottom",
      delay: 0,
    });

    // Título
    sr.reveal(".title-animate", {
      origin: "top",
      delay: 500,
    });

    // Descripción
    sr.reveal(".fade-animate", {
      origin: "bottom",
      delay: 1000,
    });

    // Subtítulo
    sr.reveal(".scroll-animate", {
      origin: "left",
      delay: 1500,
    });

    // Elementos de la lista
    sr.reveal(".scroll-stagger", {
      origin: "left",
      distance: "30px",
      duration: 600,
      interval: 500,
    });
  }

  // Ejecutar al cargar la página
  document.addEventListener("DOMContentLoaded", initializeAnimations);

  // Ejecutar cuando Astro navega a esta página
  document.addEventListener("astro:page-load", initializeAnimations);

  // Ejecutar cuando la página se vuelve visible (navegación)
  document.addEventListener("astro:after-swap", initializeAnimations);
</script>
